# JSP

### JSP (Java Server Page)

정적인 페이지의 단점을 해결하기 위해 만들어진 언어. 자바 기반으로 만드는 서버 페이지이며, HTML에 자바 코드를 삽입하여 동적인 페이지를 생성할 수 있게 함.
JSP는 서블릿 기반의 언어임! 하지만 일단 서블릿과 JSP를 별개로 생각해두자 일단은..내부적으로 servlet을 사용함. 

클라이언트에서 요청이 들어오면 웹서버는 어플리케이션 서버에 다시 요청, 어플리케이션 서버에서는 jsp를 해석하고 응답코드를 만들어 html형식의 텍스트로 반환함. 서버를 거쳐 클라이언트로 간 텍스트는 브라우저에 의해 실행해서 사용자에게 화면을 보여주게 됨.


### 서블릿

자바 코드를 이용하여 웹에서 실행되는 프로그램을 작성하는 **기술**을 뜻함. 자바 클래스 형태로 만들어진 웹앱이라 생각하자! 말 그대로 자바 클래스를 사용하기 때문에 사용자로부터 요청이 들어올 시 클래스를 메모리에 올려놓고 사용. 그래서 수행속도라 빠르다는 점이 장점임.
톰캣에서는 **Httpservlet**이라고 하는 클래스를 제공하는데, 서블릿은 이걸 이걸 상속해서 쓴다. 



-----------------------

### TOMCAT???

웹 어플리케이션(WAS) 안에는 웹 컨테이너가 존재. JSP와 서블릿을 실행하고 해석해주는 웹 컨테이너가 바로 톰캣이다. 톰캣 안에는 아파치 서버가 포함된 상태로 설치된다. 이 컨테이너는 또 JSP와 서블릿 컨테이너로 나뉨. 일단 톰캣은 jsp와 서블릿을 해석한다는 것만 알아두면 댐. 

`localhost:8080`을 통해 톰캣으로 구동한 서버에 접근할 수 있음. 기본 폴더는 `ROOT`폴더. 에서

```
WebContent
ㄴ Web-INF
	ㄴ web.xml
ㄴ META-INF
ㄴ index.jsp
```
`web.xml` 은 설정파일. 여기서 서블릿을 등록할 수도 있고, 폴더 내 jsp파일들이 공통적으로 가지는 어떤 기본설정들?을 이 곳에서 지정할 수 있음.

그리고 톰캣의 역할
Tomcat은 `WebContent` 폴더 속 존재하는 JSP 파일을 찾아 jsp를 서블릿 자바 소스로 변환. 그리고 그 안에 자바코드를 해석해서 텍스트로 바꿔줌. 중요한 것은 jsp파일이 자바 소스로 변환된다는 점. 그리고 메모리에 등록돼서 사용한다는 점이다.

### JSP 개발환경 만들기

[톰캣 설치](https://tomcat.apache.org/download-80.cgi)

이클립스 `Preferences` - `Server` - `Runtime Environment` 에서 다운받은 `Apache Tomcat`을 추가한다. (다운받은 버전으로 선택)

JSP파일은 반드시 `WebContent`폴더에 들어가야함. 기본 root폴더는 무조건 `WebContent` 폴더 위치임.


### 서블릿 사용하기

생성한 서블릿 클래스의 이름을 숨기고 URL에서 사용할 이름을 매핑하여 사용해야 한다.
반드시 서블릿 등록은 필수. 없다면 호출이 불가능.

- web.xml 에 등록
- @WebServlet 어노테이션 등록

 
서블릿 클래스를 만들고 `web.xml`에 등록하거나해서 사용한다 혹은 어노테이션만을 통해 등록하면 됨 가능
